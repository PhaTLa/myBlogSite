<!DOCTYPE html>
<html lang="vi">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Xây dựng các cụm Kubernetes sẵn sàng sản xuất trên AWS EKS - Phạm Tùng Lâm - DevOps Engineer &amp; Solution Architect</title><meta name="Description" content="Hướng dẫn toàn diện để thiết lập các cụm Amazon EKS chuẩn sản xuất với các thực tiễn tốt nhất về bảo mật, mạng và khả năng quan sát."><meta property="og:url" content="http://localhost:1313/vi/production-ready-eks-clusters/">
  <meta property="og:site_name" content="Phạm Tùng Lâm - DevOps Engineer & Solution Architect">
  <meta property="og:title" content="Xây dựng các cụm Kubernetes sẵn sàng sản xuất trên AWS EKS">
  <meta property="og:description" content="Hướng dẫn toàn diện để thiết lập các cụm Amazon EKS chuẩn sản xuất với các thực tiễn tốt nhất về bảo mật, mạng và khả năng quan sát.">
  <meta property="og:locale" content="vi">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-10-08T10:30:00+07:00">
    <meta property="article:modified_time" content="2025-10-15T11:41:46+07:00">
    <meta property="article:tag" content="AWS">
    <meta property="article:tag" content="EKS">
    <meta property="article:tag" content="Kubernetes">
    <meta property="article:tag" content="DevOps">
    <meta property="article:tag" content="Infrastructure">
    <meta property="article:tag" content="Production">
    <meta property="og:image" content="https://pub-012e0e3c1b2643639bffe9b7fd5624e5.r2.dev/avatar_400x400.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://pub-012e0e3c1b2643639bffe9b7fd5624e5.r2.dev/avatar_400x400.png">
  <meta name="twitter:title" content="Xây dựng các cụm Kubernetes sẵn sàng sản xuất trên AWS EKS">
  <meta name="twitter:description" content="Hướng dẫn toàn diện để thiết lập các cụm Amazon EKS chuẩn sản xuất với các thực tiễn tốt nhất về bảo mật, mạng và khả năng quan sát.">
<meta name="application-name" content="Alex Pham&#39;s Blog">
<meta name="apple-mobile-web-app-title" content="Alex Pham&#39;s Blog"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://localhost:1313/vi/production-ready-eks-clusters/" /><link rel="prev" href="http://localhost:1313/vi/about_me/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Xây dựng các cụm Kubernetes sẵn sàng sản xuất trên AWS EKS",
        "inLanguage": "vi",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/localhost:1313\/vi\/production-ready-eks-clusters\/"
        },"image": ["https:\/\/pub-012e0e3c1b2643639bffe9b7fd5624e5.r2.dev\/AlexPhamBlog_logo.png"],"genre": "posts","keywords": "AWS, EKS, Kubernetes, DevOps, Infrastructure, Production","wordcount":  1488 ,
        "url": "http:\/\/localhost:1313\/vi\/production-ready-eks-clusters\/","datePublished": "2025-10-08T10:30:00+07:00","dateModified": "2025-10-15T11:41:46+07:00","license": "© 2025 Phạm Tùng Lâm. All rights reserved.","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Phạm Tùng Lâm"
            },"description": "Hướng dẫn toàn diện để thiết lập các cụm Amazon EKS chuẩn sản xuất với các thực tiễn tốt nhất về bảo mật, mạng và khả năng quan sát."
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/vi/" title="Phạm Tùng Lâm - DevOps Engineer &amp; Solution Architect"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="https://pub-012e0e3c1b2643639bffe9b7fd5624e5.r2.dev/AlexPhamBlog_logo.png"
        data-srcset="https://pub-012e0e3c1b2643639bffe9b7fd5624e5.r2.dev/AlexPhamBlog_logo.png, https://pub-012e0e3c1b2643639bffe9b7fd5624e5.r2.dev/AlexPhamBlog_logo.png 1.5x, https://pub-012e0e3c1b2643639bffe9b7fd5624e5.r2.dev/AlexPhamBlog_logo.png 2x"
        data-sizes="auto"
        alt="https://pub-012e0e3c1b2643639bffe9b7fd5624e5.r2.dev/AlexPhamBlog_logo.png"
        title="https://pub-012e0e3c1b2643639bffe9b7fd5624e5.r2.dev/AlexPhamBlog_logo.png" />Alex Pham&#39;s Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/vi/posts/" title="Technical Articles &amp; Insights"> Blog </a><a class="menu-item" href="/vi/posts/about_me/" title="About Phạm Tùng Lâm"> About </a><a class="menu-item" href="/vi/tags/" title="Browse by Technology"> Tags </a><a class="menu-item" href="/vi/categories/" title="Browse by Category"> Categories </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search technical content..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Tìm kiếm">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Xoá">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Đổi chủ đề">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a><a href="javascript:void(0);" class="menu-item language" title="Chọn Ngôn ngữ">
                    <i class="fa fa-globe fa-fw" aria-hidden="true"></i>                      
                    <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/production-ready-eks-clusters/">English</option><option value="/vi/production-ready-eks-clusters/" selected>Tiếng Việt</option></select>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/vi/" title="Phạm Tùng Lâm - DevOps Engineer &amp; Solution Architect"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="https://pub-012e0e3c1b2643639bffe9b7fd5624e5.r2.dev/AlexPhamBlog_logo.png"
        data-srcset="https://pub-012e0e3c1b2643639bffe9b7fd5624e5.r2.dev/AlexPhamBlog_logo.png, https://pub-012e0e3c1b2643639bffe9b7fd5624e5.r2.dev/AlexPhamBlog_logo.png 1.5x, https://pub-012e0e3c1b2643639bffe9b7fd5624e5.r2.dev/AlexPhamBlog_logo.png 2x"
        data-sizes="auto"
        alt="https://pub-012e0e3c1b2643639bffe9b7fd5624e5.r2.dev/AlexPhamBlog_logo.png"
        title="https://pub-012e0e3c1b2643639bffe9b7fd5624e5.r2.dev/AlexPhamBlog_logo.png" />Alex Pham&#39;s Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search technical content..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Tìm kiếm">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Xoá">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Huỷ
                    </a>
                </div><a class="menu-item" href="/vi/posts/" title="Technical Articles &amp; Insights">Blog</a><a class="menu-item" href="/vi/posts/about_me/" title="About Phạm Tùng Lâm">About</a><a class="menu-item" href="/vi/tags/" title="Browse by Technology">Tags</a><a class="menu-item" href="/vi/categories/" title="Browse by Category">Categories</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Đổi chủ đề">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="Chọn Ngôn ngữ">
                    <i class="fa fa-globe fa-fw" aria-hidden="true"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/production-ready-eks-clusters/">English</option><option value="/vi/production-ready-eks-clusters/" selected>Tiếng Việt</option></select>
                </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Nội dung</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Xây dựng các cụm Kubernetes sẵn sàng sản xuất trên AWS EKS</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://www.linkedin.com/in/alexpham15010305" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Phạm Tùng Lâm</a></span>&nbsp;<span class="post-category">trong <a href="/vi/categories/devops/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>DevOps</a>&nbsp;<a href="/vi/categories/aws/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>AWS</a>&nbsp;<a href="/vi/categories/kubernetes/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Kubernetes</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2025-10-08">2025-10-08</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;1488 từ&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;7 phút&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Nội dung</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#-điều-gì-khiến-một-cụm-sẵn-sàng-sản-xuất">🎯 Điều gì khiến một cụm &ldquo;Sẵn sàng sản xuất&rdquo;?</a></li>
    <li><a href="#-nền-tảng-hạ-tầng">🏗️ Nền tảng hạ tầng</a>
      <ul>
        <li><a href="#thiết-kế-vpc">Thiết kế VPC</a></li>
        <li><a href="#cấu-hình-cụm-eks">Cấu hình cụm EKS</a></li>
      </ul>
    </li>
    <li><a href="#-thực-tiễn-tốt-nhất-về-bảo-mật">🔐 Thực tiễn tốt nhất về bảo mật</a>
      <ul>
        <li><a href="#bảo-mật-mạng">Bảo mật mạng</a></li>
        <li><a href="#cấu-hình-rbac">Cấu hình RBAC</a></li>
      </ul>
    </li>
    <li><a href="#-stack-khả-năng-quan-sát">📊 Stack khả năng quan sát</a>
      <ul>
        <li><a href="#thiết-lập-prometheus-và-grafana">Thiết lập Prometheus và Grafana</a></li>
        <li><a href="#cluster-autoscaler">Cluster Autoscaler</a></li>
      </ul>
    </li>
    <li><a href="#-tự-động-hóa-triển-khai">🚀 Tự động hóa triển khai</a></li>
    <li><a href="#-mẹo-sản-xuất--bài-học-kinh-nghiệm">💡 Mẹo sản xuất &amp; Bài học kinh nghiệm</a>
      <ul>
        <li><a href="#1-tối-ưu-hóa-chi-phí">1. Tối ưu hóa chi phí</a></li>
        <li><a href="#2-chiến-lược-sao-lưu">2. Chiến lược sao lưu</a></li>
        <li><a href="#3-quét-bảo-mật">3. Quét bảo mật</a></li>
      </ul>
    </li>
    <li><a href="#-kết-luận">🎉 Kết luận</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p align="center">
    <img src="https://pub-012e0e3c1b2643639bffe9b7fd5624e5.r2.dev/homelab.jpg" alt="Phạm Tùng Lâm Homelab" title="DevOps Engineer & Solution Architect" style="width:100%; height:240px; object-fit:cover; box-shadow:0 2px 8px rgba(0,0,0,0.1);" />
</p>
<h1 id="xây-dựng-các-cụm-kubernetes-sẵn-sàng-sản-xuất-trên-aws-eks">Xây dựng các cụm Kubernetes sẵn sàng sản xuất trên AWS EKS</h1>
<p>Amazon Elastic Kubernetes Service (EKS) đã trở thành giải pháp hàng đầu để chạy các workload Kubernetes trong AWS. Tuy nhiên, việc thiết lập một cụm EKS thực sự sẵn sàng cho sản xuất đòi hỏi nhiều hơn việc chỉ nhấp &ldquo;Create Cluster&rdquo; trong console AWS. Trong bài viết này, tôi sẽ hướng dẫn bạn qua các thành phần thiết yếu và thực tiễn tốt nhất mà tôi đã học được từ việc triển khai và quản lý các cụm EKS trong môi trường sản xuất.</p>
<h2 id="-điều-gì-khiến-một-cụm-sẵn-sàng-sản-xuất">🎯 Điều gì khiến một cụm &ldquo;Sẵn sàng sản xuất&rdquo;?</h2>
<p>Trước khi đi vào chi tiết kỹ thuật, hãy định nghĩa ý nghĩa của &ldquo;sẵn sàng sản xuất&rdquo;:</p>
<ul>
<li><strong>Tính khả dụng cao</strong>: Triển khai Multi-AZ với phân phối node hợp lý</li>
<li><strong>Bảo mật</strong>: Cô lập mạng, RBAC, tiêu chuẩn bảo mật pod</li>
<li><strong>Khả năng quan sát</strong>: Giám sát, logging và cảnh báo toàn diện</li>
<li><strong>Khả năng mở rộng</strong>: Khả năng tự động mở rộng cho cả node và pod</li>
<li><strong>Khôi phục thảm họa</strong>: Chiến lược sao lưu và quy trình khôi phục</li>
<li><strong>Tối ưu hóa chi phí</strong>: Định kích thước đúng và sử dụng tài nguyên hiệu quả</li>
</ul>
<h2 id="-nền-tảng-hạ-tầng">🏗️ Nền tảng hạ tầng</h2>
<h3 id="thiết-kế-vpc">Thiết kế VPC</h3>
<p>Nền tảng của bất kỳ cụm EKS nào là một VPC được thiết kế tốt. Đây là kiến trúc mà tôi thường sử dụng:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># terraform/vpc.tf</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">module &#34;vpc&#34; {</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">source = &#34;terraform-aws-modules/vpc/aws&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">name = &#34;eks-production-vpc&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">cidr = &#34;10.0.0.0/16&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">azs             = [&#34;us-west-2a&#34;, &#34;us-west-2b&#34;, &#34;us-west-2c&#34;]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">private_subnets = [&#34;10.0.1.0/24&#34;, &#34;10.0.2.0/24&#34;, &#34;10.0.3.0/24&#34;]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">public_subnets  = [&#34;10.0.101.0/24&#34;, &#34;10.0.102.0/24&#34;, &#34;10.0.103.0/24&#34;]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">enable_nat_gateway = true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">enable_vpn_gateway = false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">enable_dns_hostnames = true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">enable_dns_support = true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Bắt buộc cho EKS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">public_subnet_tags = {</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s2">&#34;kubernetes.io/cluster/${var.cluster_name}&#34;</span><span class="w"> </span><span class="l">= &#34;shared&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s2">&#34;kubernetes.io/role/elb&#34;</span><span class="w">                    </span><span class="l">= &#34;1&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>}<span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">private_subnet_tags = {</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s2">&#34;kubernetes.io/cluster/${var.cluster_name}&#34;</span><span class="w"> </span><span class="l">= &#34;shared&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s2">&#34;kubernetes.io/role/internal-elb&#34;</span><span class="w">           </span><span class="l">= &#34;1&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>}<span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>}<span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="cấu-hình-cụm-eks">Cấu hình cụm EKS</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># terraform/eks.tf</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">module &#34;eks&#34; {</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">source = &#34;terraform-aws-modules/eks/aws&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">cluster_name    = var.cluster_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">cluster_version = &#34;1.28&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">vpc_id     = module.vpc.vpc_id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">subnet_ids = module.vpc.private_subnets</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Cấu hình endpoint cụm</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">cluster_endpoint_private_access = true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">cluster_endpoint_public_access  = true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">cluster_endpoint_public_access_cidrs = [&#34;0.0.0.0/0&#34;]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Mã hóa cụm</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">cluster_encryption_config = [{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">provider_key_arn = aws_kms_key.eks.arn</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">resources        = [&#34;secrets&#34;]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>}<span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Logging cụm</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">cluster_enabled_log_types = [</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s2">&#34;api&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;audit&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;authenticator&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;controllerManager&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;scheduler&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Nhóm node</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">eks_managed_node_groups = {</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">system = {</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">name = &#34;system-nodes&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">instance_types = [&#34;t3.medium&#34;]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">capacity_type  = &#34;ON_DEMAND&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">min_size     = 2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">max_size     = 4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">desired_size = 2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">labels = {</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s2">&#34;node-type&#34;</span><span class="w"> </span><span class="l">= &#34;system&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>}<span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">taints = [{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="l">key    = &#34;node-type&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="l">value  = &#34;system&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="l">effect = &#34;NO_SCHEDULE&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>}<span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>}<span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">application = {</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">name = &#34;app-nodes&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">instance_types = [&#34;t3.large&#34;, &#34;t3.xlarge&#34;]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">capacity_type  = &#34;SPOT&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">min_size     = 2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">max_size     = 10</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">desired_size = 3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">labels = {</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s2">&#34;node-type&#34;</span><span class="w"> </span><span class="l">= &#34;application&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>}<span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>}<span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>}<span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>}<span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="-thực-tiễn-tốt-nhất-về-bảo-mật">🔐 Thực tiễn tốt nhất về bảo mật</h2>
<h3 id="bảo-mật-mạng">Bảo mật mạng</h3>
<p>Bảo mật mạng bắt đầu với việc cô lập subnet đúng cách và security group:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># terraform/security-groups.tf</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">resource &#34;aws_security_group&#34; &#34;additional&#34; {</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">name_prefix = &#34;${var.cluster_name}-additional&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">vpc_id      = module.vpc.vpc_id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">ingress {</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">from_port = 22</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">to_port   = 22</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">protocol  = &#34;tcp&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">cidr_blocks = [module.vpc.vpc_cidr_block]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>}<span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">tags = {</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">Name = &#34;${var.cluster_name}-additional&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>}<span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>}<span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="cấu-hình-rbac">Cấu hình RBAC</h3>
<p>Triển khai kiểm soát truy cập dựa trên vai trò phù hợp:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># k8s/rbac/developer-role.yaml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">rbac.authorization.k8s.io/v1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Role</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">development</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">developer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">rules</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">apiGroups</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;&#34;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">resources</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;pods&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;configmaps&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;secrets&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;services&#34;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">verbs</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;get&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;list&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;watch&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;create&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;update&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;patch&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;delete&#34;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">apiGroups</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;apps&#34;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">resources</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;deployments&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;replicasets&#34;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">verbs</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;get&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;list&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;watch&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;create&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;update&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;patch&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;delete&#34;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">rbac.authorization.k8s.io/v1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">RoleBinding</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">developer-binding</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">development</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">subjects</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">User</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">developer-team</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">apiGroup</span><span class="p">:</span><span class="w"> </span><span class="l">rbac.authorization.k8s.io</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">roleRef</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Role</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">developer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">apiGroup</span><span class="p">:</span><span class="w"> </span><span class="l">rbac.authorization.k8s.io</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="-stack-khả-năng-quan-sát">📊 Stack khả năng quan sát</h2>
<h3 id="thiết-lập-prometheus-và-grafana">Thiết lập Prometheus và Grafana</h3>
<p>Triển khai stack giám sát toàn diện:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># k8s/monitoring/prometheus-values.yaml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">prometheus</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">prometheusSpec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">retention</span><span class="p">:</span><span class="w"> </span><span class="l">30d</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">storageSpec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">volumeClaimTemplate</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">storageClassName</span><span class="p">:</span><span class="w"> </span><span class="l">gp3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">accessModes</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;ReadWriteOnce&#34;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">resources</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">requests</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">storage</span><span class="p">:</span><span class="w"> </span><span class="l">50Gi</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">resources</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">requests</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l">2Gi</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l">1000m</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">limits</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l">4Gi</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l">2000m</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">grafana</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">persistence</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">storageClassName</span><span class="p">:</span><span class="w"> </span><span class="l">gp3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">size</span><span class="p">:</span><span class="w"> </span><span class="l">10Gi</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">adminPassword</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;your-secure-password&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">grafana.ini</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">server</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">root_url</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;https://grafana.yourdomain.com&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">security</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">disable_gravatar</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="cluster-autoscaler">Cluster Autoscaler</h3>
<p>Triển khai tự động mở rộng:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># k8s/autoscaling/cluster-autoscaler.yaml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">apps/v1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Deployment</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">cluster-autoscaler</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">kube-system</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">replicas</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">selector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">matchLabels</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">cluster-autoscaler</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">template</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">cluster-autoscaler</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">serviceAccountName</span><span class="p">:</span><span class="w"> </span><span class="l">cluster-autoscaler</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">containers</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">k8s.gcr.io/autoscaling/cluster-autoscaler:v1.28.2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">cluster-autoscaler</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">resources</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">limits</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l">100m</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l">300Mi</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">requests</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l">100m</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l">300Mi</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">command</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">./cluster-autoscaler</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- --<span class="l">v=4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- --<span class="l">stderrthreshold=info</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- --<span class="l">cloud-provider=aws</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- --<span class="l">skip-nodes-with-local-storage=false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- --<span class="l">expander=least-waste</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- --<span class="l">node-group-auto-discovery=asg:tag=k8s.io/cluster-autoscaler/enabled,k8s.io/cluster-autoscaler/${CLUSTER_NAME}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">env</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">AWS_REGION</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l">us-west-2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">CLUSTER_NAME</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l">production-eks</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="-tự-động-hóa-triển-khai">🚀 Tự động hóa triển khai</h2>
<p>Đây là script triển khai hoàn chỉnh kết hợp mọi thứ lại với nhau:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="cp">#!/bin/bash
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="c1"># deploy.sh</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">set</span> -e
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">CLUSTER_NAME</span><span class="o">=</span><span class="s2">&#34;production-eks&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">AWS_REGION</span><span class="o">=</span><span class="s2">&#34;us-west-2&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;🚀 Triển khai cụm EKS: </span><span class="nv">$CLUSTER_NAME</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Triển khai hạ tầng với Terraform</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;📦 Triển khai hạ tầng...&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> terraform
</span></span><span class="line"><span class="cl">terraform init
</span></span><span class="line"><span class="cl">terraform plan -var<span class="o">=</span><span class="s2">&#34;cluster_name=</span><span class="nv">$CLUSTER_NAME</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">terraform apply -auto-approve -var<span class="o">=</span><span class="s2">&#34;cluster_name=</span><span class="nv">$CLUSTER_NAME</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Cập nhật kubeconfig</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;🔧 Cập nhật kubeconfig...&#34;</span>
</span></span><span class="line"><span class="cl">aws eks update-kubeconfig --region <span class="nv">$AWS_REGION</span> --name <span class="nv">$CLUSTER_NAME</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Cài đặt các add-on thiết yếu</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;🔌 Cài đặt các add-on cụm...&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># AWS Load Balancer Controller</span>
</span></span><span class="line"><span class="cl">helm repo add eks https://aws.github.io/eks-charts
</span></span><span class="line"><span class="cl">helm repo update
</span></span><span class="line"><span class="cl">helm install aws-load-balancer-controller eks/aws-load-balancer-controller <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -n kube-system <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="nv">clusterName</span><span class="o">=</span><span class="nv">$CLUSTER_NAME</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set serviceAccount.create<span class="o">=</span><span class="nb">false</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set serviceAccount.name<span class="o">=</span>aws-load-balancer-controller
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Prometheus monitoring stack</span>
</span></span><span class="line"><span class="cl">helm repo add prometheus-community https://prometheus-community.github.io/helm-charts
</span></span><span class="line"><span class="cl">helm install kube-prometheus-stack prometheus-community/kube-prometheus-stack <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -n monitoring <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --create-namespace <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -f ../k8s/monitoring/prometheus-values.yaml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Cluster Autoscaler</span>
</span></span><span class="line"><span class="cl">kubectl apply -f ../k8s/autoscaling/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;✅ Triển khai cụm EKS hoàn tất!&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;🌐 Grafana Dashboard: kubectl port-forward -n monitoring svc/kube-prometheus-stack-grafana 3000:80&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;📊 Prometheus UI: kubectl port-forward -n monitoring svc/kube-prometheus-stack-prometheus 9090:9090&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="-mẹo-sản-xuất--bài-học-kinh-nghiệm">💡 Mẹo sản xuất &amp; Bài học kinh nghiệm</h2>
<h3 id="1-tối-ưu-hóa-chi-phí">1. Tối ưu hóa chi phí</h3>
<ul>
<li>Sử dụng <strong>Spot Instances</strong> cho các workload không quan trọng (có thể tiết kiệm 60-90%)</li>
<li>Triển khai <strong>Horizontal Pod Autoscaler</strong> để định kích thước ứng dụng phù hợp</li>
<li><strong>Kiểm toán sử dụng tài nguyên</strong> thường xuyên để xác định lãng phí</li>
</ul>
<h3 id="2-chiến-lược-sao-lưu">2. Chiến lược sao lưu</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># velero-values.yaml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">configuration</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">aws</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">backupStorageLocation</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">bucket</span><span class="p">:</span><span class="w"> </span><span class="l">my-velero-backup-bucket</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">region</span><span class="p">:</span><span class="w"> </span><span class="l">us-west-2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">volumeSnapshotLocation</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">region</span><span class="p">:</span><span class="w"> </span><span class="l">us-west-2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">schedules</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">daily-backup</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">schedule</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;0 2 * * *&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">template</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">ttl</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;720h&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">includedNamespaces</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">production</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">staging</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="3-quét-bảo-mật">3. Quét bảo mật</h3>
<p>Triển khai quét bảo mật tự động:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># .github/workflows/security-scan.yml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Security Scan</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="l">main]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">security-scan</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Run Trivy vulnerability scanner</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">aquasecurity/trivy-action@master</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">scan-type</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;fs&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">scan-ref</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;.&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;sarif&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">output</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;trivy-results.sarif&#39;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="-kết-luận">🎉 Kết luận</h2>
<p>Xây dựng các cụm EKS sẵn sàng cho sản xuất đòi hỏi lập kế hoạch cẩn thận và chú ý đến chi tiết. Cấu hình mà tôi đã chia sẻ ở đây tạo nên một nền tảng vững chắc, nhưng hãy nhớ rằng mỗi môi trường sản xuất đều có những yêu cầu riêng biệt.</p>
<p>Những điểm chính cần nhớ:</p>
<ul>
<li><strong>Bắt đầu với nền tảng VPC vững chắc</strong></li>
<li><strong>Triển khai bảo mật từ ngày đầu</strong></li>
<li><strong>Lập kế hoạch cho khả năng quan sát và giám sát</strong></li>
<li><strong>Tự động hóa mọi thứ có thể</strong></li>
<li><strong>Kiểm tra các quy trình khôi phục thảm họa của bạn</strong></li>
</ul>
<p>Trong bài viết tiếp theo, tôi sẽ đi sâu hơn vào <strong>các mẫu mạng EKS nâng cao</strong> và <strong>tích hợp service mesh</strong>. Hãy theo dõi!</p>
<hr>
<p><em>Có câu hỏi về EKS hoặc muốn chia sẻ trải nghiệm của riêng bạn? Hãy liên hệ với tôi trên <a href="https://www.linkedin.com/in/alexpham15010305" target="_blank" rel="noopener noreffer ">LinkedIn</a> hoặc gửi <a href="mailto:phamtunglam.workmail.public@gmail.com" rel="">email</a>.</em></p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Cập nhật ngày 2025-10-15</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/vi/production-ready-eks-clusters/index.md" target="_blank">Đọc với định dạng Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Chia sẻ trên Twitter" data-sharer="twitter" data-url="http://localhost:1313/vi/production-ready-eks-clusters/" data-title="Xây dựng các cụm Kubernetes sẵn sàng sản xuất trên AWS EKS" data-hashtags="AWS,EKS,Kubernetes,DevOps,Infrastructure,Production"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Chia sẻ trên Facebook" data-sharer="facebook" data-url="http://localhost:1313/vi/production-ready-eks-clusters/" data-hashtag="AWS"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Chia sẻ trên Linkedin" data-sharer="linkedin" data-url="http://localhost:1313/vi/production-ready-eks-clusters/"><i class="fab fa-linkedin fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Chia sẻ trên Line" data-sharer="line" data-url="http://localhost:1313/vi/production-ready-eks-clusters/" data-title="Xây dựng các cụm Kubernetes sẵn sàng sản xuất trên AWS EKS"><i data-svg-src="/lib/simple-icons/icons/line.min.svg" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/vi/tags/aws/">AWS</a>,&nbsp;<a href="/vi/tags/eks/">EKS</a>,&nbsp;<a href="/vi/tags/kubernetes/">Kubernetes</a>,&nbsp;<a href="/vi/tags/devops/">DevOps</a>,&nbsp;<a href="/vi/tags/infrastructure/">Infrastructure</a>,&nbsp;<a href="/vi/tags/production/">Production</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Quay lại</a></span>&nbsp;|&nbsp;<span><a href="/vi/">Trang chủ</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/vi/about_me/" class="prev" rel="prev" title="Về tôi"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>Về tôi</a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://www.linkedin.com/in/alexpham15010305" target="_blank">Phạm Tùng Lâm</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Lên trên">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="Xem bình luận">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.stemmer.support.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.vi.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Sao chép vào bộ nhớ tạm","maxShownLines":50},"comment":{},"search":{"highlightTag":"em","lunrIndexURL":"/vi/index.json","lunrLanguageCode":"vi","maxResultLength":10,"noResultsFound":"Không tìm thấy","snippetLength":50,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
